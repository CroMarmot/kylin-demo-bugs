"use strict";exports.__esModule=!0,exports.default=function(e){e.messages,e.template;var r=e.types;return{inherits:require("babel-plugin-syntax-decorators"),pre:function(e){var r=this.opts.className,t=this.opts.propertyName,o=this.opts.watchName,a=this.opts.objectName,i=this.opts.strict,s=this.opts.noJSX;this.opts={className:r||"Component",propertyName:t||"Property",objectName:a||"Object",watchName:o||"Watch",strict:void 0!==i&&!!i,noJSX:!!s}},visitor:{Program:{},ExportDefaultDeclaration:function(e){if(e.get("declaration").isClassDeclaration()){var t=e.node,o=t.declaration.id||e.scope.generateUidIdentifier("default");t.declaration.id=o,e.replaceWith(t.declaration),e.insertAfter(r.exportNamedDeclaration(null,[r.exportSpecifier(o,r.identifier("default"))]))}},ClassDeclaration:function(e,t){var o=e.node,a=o.id||e.scope.generateUidIdentifier("class"),i=r.variableDeclaration("let",[r.variableDeclarator(a,r.toExpression(o))]);e.replaceWith(i)},ClassExpression:function(e,t){var o=t.opts,a=o.className,i=(o.propertyName,e.node);if(void 0!==i.decorators&&null!==i.decorators){var s=i.decorators;if(!Array.isArray(s))throw e.buildCodeFrameError("unsupportet decorators format, should be Array");var n=s.map(function(e){return r.isIdentifier(e.expression)?e.expression.name:r.isCallExpression(e.expression)&&r.isIdentifier(e.expression.callee)?e.expression.callee.name:null}).filter(Boolean);if(1===n.filter(function(e){return e===a}).length){if(1!==n.length)throw e.buildCodeFrameError("@"+a+" decorator should not be used with other decorators ["+n.filter(function(e){return e!==a})+"]");var l=(0,_componentBuilder.ComponentObjectBuilder)(e,t);l&&e.replaceWith(l)}}}}}};var _babelTemplate=require("babel-template"),_babelTemplate2=_interopRequireDefault(_babelTemplate),_componentBuilder=require("./component-builder");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=exports.default;