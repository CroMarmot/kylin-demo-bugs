"use strict";exports.__esModule=!0;var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys);exports.processMethodList=processMethodList;var _babelTypes=require("babel-types"),t=_interopRequireWildcard(_babelTypes),_babelTemplate=require("babel-template"),_babelTemplate2=_interopRequireDefault(_babelTemplate),_lifecycle=require("./lifecycle"),_utils=require("../utils");function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var buildComponentMethodBuilderMethods=(0,_babelTemplate2.default)("\n  component.methods = component.methods || {};\n"),buildComponentMethodBuilderMethodsKey=(0,_babelTemplate2.default)("\n  component.methods[$0] = $1;\n");function filter(e){return"method"===e.kind&&!_lifecycle.lifeCycleHookMap[e.key.name]}function processMethodList(e,r){var o={},n=[],i=[];return e.filter(filter).forEach(function(e){o[e.key.name]=t.functionExpression(null,e.params,e.body,e.generator,e.async)}),r.methods?i=generateStatements(o):n=generatePropertys(o),{properties:n,statements:i}}function generatePropertys(e){var r=[];return(0,_keys2.default)(e).forEach(function(t){r.push((0,_utils.getObjectProperty)(t,e[t]))}),[(0,_utils.getObjectProperty)("methods",t.objectExpression(r))]}function generateStatements(e){var r=[];return r.push(buildComponentMethodBuilderMethods()),(0,_keys2.default)(e).forEach(function(o){r.push(buildComponentMethodBuilderMethodsKey(t.stringLiteral(o),e[o]))}),r}