"use strict";exports.__esModule=!0;var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys);exports.processMethodList=processMethodList;var _babelTypes=require("babel-types"),t=_interopRequireWildcard(_babelTypes),_babelTemplate=require("babel-template"),_babelTemplate2=_interopRequireDefault(_babelTemplate),_utils=require("../utils");function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function filter(e){return"get"===e.kind||"set"===e.kind}var buildComponentMethodGetSetBuilderComputed=(0,_babelTemplate2.default)("\n  component.computed = component.computed || {};\n"),buildComponentMethodGetSetBuilderComputedKey=(0,_babelTemplate2.default)("\n  component.computed[$0] = component.computed[$0] || {};\n"),buildComponentMethodGetSetBuilderComputedBoth=(0,_babelTemplate2.default)("\n  component.computed[$0] = {\n    get: $1,\n    set: $2\n  };\n");function processMethodList(e,r){var n={},o=[],u=[];return e.filter(filter).forEach(function(e){var r=e.key.name;n[r]=n[r]||{},n[r][e.kind]=t.functionExpression(null,e.params,e.body)}),(0,_keys2.default)(n).length&&(r.computed?u=generateStatements(n):o=generatePropertys(n)),{properties:o,statements:u}}function generatePropertys(e){var r=[];return(0,_keys2.default)(e).forEach(function(n){r.push((0,_utils.getObjectProperty)(n,t.objectExpression([e[n].set?(0,_utils.getObjectProperty)("set",e[n].set):null,e[n].get?(0,_utils.getObjectProperty)("get",e[n].get):null].filter(Boolean))))}),[(0,_utils.getObjectProperty)("computed",t.objectExpression(r))]}function generateStatements(e){var r=[];return(0,_keys2.default)(e).length&&(r.push(buildComponentMethodGetSetBuilderComputed()),(0,_keys2.default)(e).forEach(function(n){r.push(buildComponentMethodGetSetBuilderComputedKey(t.stringLiteral(n))),(e[n].get||e[n].set)&&r.push(buildComponentMethodGetSetBuilderComputedBoth(t.stringLiteral(n),e[n].get||t.identifier("null"),e[n].set||t.identifier("null")))})),r}