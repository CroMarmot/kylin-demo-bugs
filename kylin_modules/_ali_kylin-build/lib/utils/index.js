"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hint=hint,exports.copyAndReplace=copyAndReplace,exports.exec=exec;var _path=require("path"),_path2=_interopRequireDefault(_path),_chalk=require("chalk"),_chalk2=_interopRequireDefault(_chalk),_shelljs=require("shelljs"),_shelljs2=_interopRequireDefault(_shelljs),_glob=require("glob"),_glob2=_interopRequireDefault(_glob),_fs=require("fs"),_fs2=_interopRequireDefault(_fs);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function hint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(`${_chalk2.default.cyan(e)} ${t}`)}function copyAndReplace(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_glob2.default.sync("**",{cwd:e,dot:!0,ignore:["**/**/.gitkeep",".git/**"]}).forEach(function(n){let o=_path2.default.join(e,n),i=_path2.default.join(t,n);if(_fs2.default.statSync(o).isDirectory())_fs2.default.existsSync(i)||_fs2.default.mkdirSync(i);else{let e=_fs2.default.readFileSync(o).toString();for(let t in l){let n=new RegExp("<%=\\s*?"+t+"\\s*?%>","gi");n.test(e)&&(e=e.replace(n,l[t]))}e=e.replace(/<%=\s*?[\w\d\-_]*\s*?%>/gi,""),_fs2.default.writeFileSync(i,e)}})}function*exec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(l,n){try{const o=_shelljs2.default.exec(e,{silent:t.slient});if(!o||0!==o.code)throw new Error(o&&o.stderr);l(o)}catch(e){n(e)}})}hint.success=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(`${_chalk2.default.green(e)} ${t}`)},hint.error=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(`${_chalk2.default.red(e)} ${t}`)},hint.warn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(`${_chalk2.default.yellow(e)} ${t}`)};