"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _safe=require("colors/safe"),_safe2=_interopRequireDefault(_safe),_path=require("path"),_path2=_interopRequireDefault(_path),_index=require("../../utils/index");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function HtmlWebpackChunkPathRelativePlugin(){}function getRelativePathLevel(e){return"string"!=typeof e?0:e.split("/").length-1}function addRelativePath(e,t){if("string"!=typeof e)return"";if(t<=0)return e;for(var a=e;t--;)a=/^\//.test(a)?`..${a}`:`../${a}`;return a}HtmlWebpackChunkPathRelativePlugin.prototype.apply=function(e){e.plugin("compilation",function(e){e.plugin("html-webpack-plugin-before-html-generation",function(e,t){var a=Object.create(null),n=e.outputName,u=e.assets,i=u.chunks;Object.keys(i).forEach(function(e){var t=i[e];if(t){var u=getRelativePathLevel(n);if(!(u<=0))(t.css||[]).concat([t.entry]).forEach(function(e){var t=addRelativePath(e,u);a[e]=t})}}),u.css.forEach(function(e,t){a[e]&&((0,_index.hint)("[Chunk]",`replace css ${_safe2.default.blue(e)} to ${_safe2.default.blue(a[e])}`),u.css[t]=a[e])}),u.js.forEach(function(e,t){a[e]&&((0,_index.hint)("[Chunk]",`replace css ${_safe2.default.blue(e)} to ${_safe2.default.blue(a[e])}`),u.js[t]=a[e])}),t(null,e)})})},exports.default=HtmlWebpackChunkPathRelativePlugin,module.exports=exports.default;