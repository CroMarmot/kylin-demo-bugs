"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};exports.default=webpackComponentIndexConfig;var _webpackMerge=require("webpack-merge"),_webpackMerge2=_interopRequireDefault(_webpackMerge),_extractTextWebpackPlugin=require("extract-text-webpack-plugin"),_extractTextWebpackPlugin2=_interopRequireDefault(_extractTextWebpackPlugin),_webpack=require("webpack"),_webpack2=_interopRequireDefault(_webpack),_index=require("../utils/index"),_index2=require("../../utils/index"),_path=require("path"),_path2=_interopRequireDefault(_path),_ls=require("ls"),_ls2=_interopRequireDefault(_ls),_assert=require("assert"),_assert2=_interopRequireDefault(_assert),_webpackProgressPlugin=require("../plugin/webpackProgressPlugin"),_webpackProgressPlugin2=_interopRequireDefault(_webpackProgressPlugin);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function webpackComponentIndexConfig(e,r,t){const a=require("./webpack.component.base")(e,_extends({},r,{output:""}));return a.entry[r.entry]=`${r.sourceDir}/${r.entry}`,(0,_webpackMerge2.default)(a,{vue:{loaders:(0,_index.cssLoaders)({sourceMap:!e.prod,extract:!0})},module:{loaders:(0,_index.styleLoaders)({sourceMap:!e.prod,extract:!0})},plugins:[(0,_webpackProgressPlugin2.default)(),e.compress?new _webpack2.default.optimize.UglifyJsPlugin({compress:{warnings:!1}}):null,new _extractTextWebpackPlugin2.default("[name].css"),new _webpack2.default.DefinePlugin(Object.assign({"process.env.NODE_ENV":'"production"',"process.env.KYLIN_COMPONENT_ENV":'"component_index"'},r.env))].filter(Boolean)})}module.exports=exports.default;