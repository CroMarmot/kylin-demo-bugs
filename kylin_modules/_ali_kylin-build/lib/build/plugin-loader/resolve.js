"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolvePlugin=resolvePlugin,exports.standardizeName=standardizeName;var _resolve=require("resolve"),_resolve2=_interopRequireDefault(_resolve),_path=require("path"),_path2=_interopRequireDefault(_path);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const EXACT_RE=/^module:/,BABEL_PLUGIN_PREFIX_RE=/^(?!@|module:|[^/\/]+[/\/]|kylin-plugin-)/,OTHER_PLUGIN_ORG_RE=/^(@(?!kylin[/\/])[^/\/]+[/\/])(?!kylin-plugin-|[^/\/]+[/\/])/;function resolvePlugin(e,r){return resolveStandardizedName(e,r)}function standardizeName(e){return _path2.default.isAbsolute(e)?e:e.replace(BABEL_PLUGIN_PREFIX_RE,"@ali/kylin-plugin-").replace(OTHER_PLUGIN_ORG_RE,"$1kylin-plugin-").replace(EXACT_RE,"")}function resolveStandardizedName(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:process.cwd();const t=standardizeName(e);try{return _resolve2.default.sync(t,{basedir:r})}catch(r){if("MODULE_NOT_FOUND"!==r.code)throw r;try{return require.resolve(t)}catch(r){if("MODULE_NOT_FOUND"!==r.code)throw r;if(t!==e){let t=!1;try{require.resolve(e),t=!0}catch(e){}t&&(r.message+=`\n- If you want to resolve "${e}", use "module:${e}"`)}throw r}}}