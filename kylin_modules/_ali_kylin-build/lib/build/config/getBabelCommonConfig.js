"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getBabelCommonConfig;var _os=require("os"),_index=require("../plugin-loader/index");function getBabelCommonConfig(e,r){var o=r.options;const n=o.enableTypeofSymbol,l=o.enableGenerator,a=o.enableForOfArray,s=o.nebulaTarget,t=o.enableDecoratorInject,i=o.enableComponentLazyRequire,p=o.enableDecorator,u=o.enableES6LooseTrue,b=o.preferExternalPromise,m=o.enableInjectComponentName,c=o.enableAsync,g=o.enableES6LoosePolyfill,f=o.compileComponent,q=o.compileComponentStrict,y=o.hoistFunctions,v="project"===e.type,d="component"===e.type&&e.compress;let x={babelrc:!1,presets:[c?null:require.resolve("babel-preset-stage-0"),[require.resolve("@ali/babel-preset-es2015-nebula"),{enableTypeofSymbol:n,enableGenerator:l,enableForOfArray:a,nebulaTarget:s,loose:u,requeue:!1,preferExternalPromise:b,ensureExitPromise:!0,loosePolyfill:g&&v}]].filter(Boolean),plugins:[r.options.componentImport?[require.resolve("babel-plugin-import"),r.options.componentImport]:null,require.resolve("babel-plugin-transform-vue-jsx"),t?[require.resolve("@ali/babel-plugin-decorators-inject"),{className:"Component",PropertyName:"Property",propertyIgnoreName:"Property",enableComponentLazyRequire:i,enableRenderInjectH:!1,injectComponentName:m}]:"",t&&f?[require.resolve("@ali/babel-plugin-decorators-component"),{strict:q}]:"",p?require.resolve("babel-plugin-transform-decorators-legacy"):"",require.resolve("babel-plugin-transform-class-properties"),c?[require.resolve("@ali/babel-plugin-fast-async"),{spec:!0,useRuntimeModule:!1,hoistFuns:y&&!e.compress}]:null].concat(c?[require.resolve("babel-plugin-transform-do-expressions"),require.resolve("babel-plugin-transform-function-bind"),require.resolve("babel-plugin-transform-class-constructor-call"),require.resolve("babel-plugin-transform-export-extensions"),require.resolve("babel-plugin-transform-class-properties"),require.resolve("babel-plugin-transform-decorators"),require.resolve("babel-plugin-syntax-dynamic-import"),require.resolve("babel-plugin-syntax-trailing-function-commas"),require.resolve("babel-plugin-transform-exponentiation-operator"),require.resolve("babel-plugin-transform-object-rest-spread")]:[]).filter(Boolean)};return d&&(x=Object.assign({minified:!0,comments:!1},x)).plugins.push(require.resolve("babel-plugin-minify-mangle-names")),x=(0,_index.applyPluginForBabel)(x,r)}module.exports=exports.default;