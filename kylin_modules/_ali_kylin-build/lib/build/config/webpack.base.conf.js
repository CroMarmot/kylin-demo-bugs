"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=webpackBaseConfig;var _path=require("path"),_path2=_interopRequireDefault(_path),_getBabelCommonConfig=require("../config/getBabelCommonConfig"),_getBabelCommonConfig2=_interopRequireDefault(_getBabelCommonConfig),_globalResource=require("../plugin/globalResource"),_core=require("cssnano/dist/lib/core"),_core2=_interopRequireDefault(_core),_index=require("../utils/index"),_htmlWebpackChunkPathRelativePlugin=require("../plugin/htmlWebpackChunkPathRelativePlugin"),_htmlWebpackChunkPathRelativePlugin2=_interopRequireDefault(_htmlWebpackChunkPathRelativePlugin);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function webpackBaseConfig(e,o,r){const t=(0,_getBabelCommonConfig2.default)(e,o),l=[require("autoprefixer")({browsers:["Chrome >= 30","iOS >= 7","Android >= 2","ChromeAndroid >= 2","last 10 UCAndroid versions"]}),e.prod?_core2.default:null].filter(Boolean);return{babel:t,output:{path:_path2.default.resolve(e.cwd,o.output),publicPath:"",filename:"[name].js"},externals:o.options.enableGlobalResourceInject?_globalResource.externals:{},resolve:{extensions:["",".jsx",".js",".vue",".less",".css"],alias:{}},module:{preLoaders:[],loaders:[{test:/\.vue$/,loader:require.resolve("@ali/kylin-vue-loader")},{test:/\.js$/,loader:require.resolve("babel-loader"),include:e.cwd,exclude:/node_modules/,query:t},{test:/\.json$/,loader:require.resolve("json-loader")},{test:/\.(png|jpe?g|gif|svg)(\?.*)?$/,loader:require.resolve("url-loader"),query:{limit:1e4,name:(0,_index.assetsPath)("img/[name].[hash:7].[ext]")}},{test:/\.(woff2?|eot|ttf|otf)(\?.*)?$/,loader:require.resolve("url-loader"),query:{limit:1e4,name:(0,_index.assetsPath)("fonts/[name].[hash:7].[ext]")}}].filter(Boolean)},vue:{preserveWhitespace:o.options.preserveWhitespace,esModule:!0,loaders:(0,_index.cssLoaders)({sourceMap:!e.prod,extract:!1}),postcss:l,componentImport:[]},postcss:()=>l,plugins:[new _htmlWebpackChunkPathRelativePlugin2.default]}}module.exports=exports.default;